<% content_for :title, @content[:page_title] if @content[:page_title].present? %>
<% hero = @content[:hero] %>
<section class="hero" id="about">
  <div class="hero-inner">
    <div class="hero-intro">
      <% if hero[:tagline].present? %>
        <span class="tagline"><%= hero[:tagline] %></span>
      <% end %>
      <h1><%= hero[:name] %></h1>
      <%= portfolio_html(hero[:description_html]) %>
      <% if hero[:actions].present? %>
        <div class="hero-actions">
          <% hero[:actions].each do |action| %>
            <% href = portfolio_action_href(action) %>
            <% data_options = href.to_s.include?('#') ? { action: 'smooth-scroll#scroll' } : {} %>
            <%= link_to action[:label], href, class: portfolio_button_classes(action[:style]), data: data_options %>
          <% end %>
        </div>
      <% end %>
      <% if hero[:pills].present? %>
        <ul class="pill-list">
          <% hero[:pills].each do |pill| %>
            <li class="pill"><%= pill %></li>
          <% end %>
        </ul>
      <% end %>
    </div>
    <% if hero[:highlights].present? %>
      <aside class="hero-card" data-controller="hero-highlight" data-hero-highlight-interval-value="7000">
        <h2>現在のテーマ</h2>
        <div class="profile-grid">
          <ul class="list-reset profile-list" data-hero-highlight-target="list">
            <% hero[:highlights].each do |highlight| %>
              <%= content_tag :li, data: { hero_highlight_target: 'item' } do %>
                <strong><%= highlight[:title] %></strong>
                <%= portfolio_html(highlight[:description_html]) %>
              <% end %>
            <% end %>
          </ul>
        </div>
      </aside>
    <% end %>
  </div>
</section>

<% focus = @content[:focus] %>
<section class="section" id="focus" data-controller="reveal" data-reveal-threshold-value="0.12">
  <div class="section-header">
    <% if focus[:eyebrow].present? %>
      <span class="section-eyebrow"><%= focus[:eyebrow] %></span>
    <% end %>
    <h2><%= focus[:title] %></h2>
    <%= portfolio_html(focus[:description_html]) %>
    <%= portfolio_html(focus[:pills_html]) %>
  </div>
  <div class="card-grid" data-reveal-target="container">
    <% focus[:topics].each do |topic| %>
      <article class="card" data-reveal-target="item">
        <h3><%= topic[:title] %></h3>
        <%= portfolio_html(topic[:body_html]) %>
      </article>
    <% end %>
  </div>
</section>

<% projects = @content[:projects] %>
<section class="section" id="projects" data-controller="reveal" data-reveal-threshold-value="0.1">
  <div class="section-header">
    <% if projects[:eyebrow].present? %>
      <span class="section-eyebrow"><%= projects[:eyebrow] %></span>
    <% end %>
    <h2><%= projects[:title] %></h2>
    <%= portfolio_html(projects[:description_html]) %>
  </div>
  <% if projects[:items].present? %>
    <div class="card-grid" data-reveal-target="container">
      <% projects[:items].each do |project| %>
        <article class="card" data-reveal-target="item">
          <h3><%= project[:title] %></h3>
          <%= portfolio_html(project[:description_html]) %>
          <% if project[:link].present? %>
            <p>
              <%= link_to project[:link][:label], project[:link][:url], class: 'resource-link', target: '_blank', rel: 'noopener' %>
            </p>
          <% end %>
        </article>
      <% end %>
    </div>
  <% end %>
</section>

<% timeline = @content[:timeline] %>
<section class="section" id="timeline" data-controller="reveal" data-reveal-threshold-value="0.08">
  <div class="section-header">
    <% if timeline[:eyebrow].present? %>
      <span class="section-eyebrow"><%= timeline[:eyebrow] %></span>
    <% end %>
    <h2><%= timeline[:title] %></h2>
    <%= portfolio_html(timeline[:description_html]) %>
  </div>
  <ul class="timeline" data-reveal-target="container">
    <% timeline[:items].each do |item| %>
      <li class="timeline-item" data-reveal-target="item">
        <h4><%= item[:period] %></h4>
        <% item[:details].each do |detail| %>
          <p><%= detail %></p>
        <% end %>
      </li>
    <% end %>
  </ul>
</section>

<% resources = @content[:resources] %>
<section class="section" id="resources" data-controller="reveal" data-reveal-threshold-value="0.12">
  <div class="split-grid">
    <% profile = resources[:profile] %>
    <article class="profile-card" data-reveal-target="item">
      <% if profile[:eyebrow].present? %>
        <span class="section-eyebrow"><%= profile[:eyebrow] %></span>
      <% end %>
      <h2><%= profile[:title] %></h2>
      <%= portfolio_html(profile[:description_html]) %>
      <% if profile[:highlights].present? %>
        <ul class="list-reset pill-list">
          <% profile[:highlights].each do |highlight| %>
            <li class="pill"><%= highlight %></li>
          <% end %>
        </ul>
      <% end %>
    </article>

    <% links = resources[:links] %>
    <article class="profile-card" id="contact" data-reveal-target="item">
      <% if links[:eyebrow].present? %>
        <span class="section-eyebrow"><%= links[:eyebrow] %></span>
      <% end %>
      <h2><%= links[:title] %></h2>
      <ul class="list-reset">
        <% links[:items].each do |link| %>
          <li>
            <strong><%= link[:heading] %></strong><br />
            <%= link_to link[:label], link[:url], class: 'resource-link', target: (link[:url].start_with?('http') ? '_blank' : nil), rel: (link[:url].start_with?('http') ? 'noopener' : nil) %>
          </li>
        <% end %>
      </ul>
    </article>
  </div>
</section>
